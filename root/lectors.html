<html>
<head>
	<link rel="stylesheet" type="text/css" href="./css/main.css">
</head>
<body>
	<div class="wrap">
		<div class="header box" id="header">
		</div>
		<div class="content" id="content">
		</div>
	</div>
	<div class="footer">
		© 2013  ООО «<a href="http://www.yandex.ru">Яндекс</a>»	
	</div>
	<script src = "node_modules/yate/lib/runtime.js"></script>
	<script src="./js/logo.js"></script>
	<script src="./js/horizontal_menu.js"></script>
	<script type="text/javascript" src="./js/jspath.min.js"></script>
	<script type="text/javascript" src="./js/lectors.js"></script>
	<script type="text/javascript" src="./js/lectors_filter.js"></script>
	<script>
		//получаем логотип
		var data          = { logo_name: 'Яндекс ШРИ в Москве 2013', when_where: '7 сентября - 31 декабря'};
		var cpl_logo        = yr.run('logo', data);
		var header      = document.getElementById("header");
		//получаем горизонтальное меню
		data = {
		    item: [
		        { link: '#', title: 'О мероприятии'},
		        { link: '#', title: 'Программа'},
		        { link: '#', title: 'Докладчики'},
		        { link: '#', title: 'Правила отбора'},
		        { link: '#', title: 'FAQ', selected: true},
		        { link: '#', title: 'Выпускники'}
		    ]
		}
		//собираем header
		var cpl_menu        = yr.run('horizontal_menu', data);
		header.innerHTML = cpl_logo  + cpl_menu;

		var x = new XMLHttpRequest(); 
		x.open("GET","./json/lectors.json",false); 
		x.send(); 
		lectors=x.responseText; 

		var lectors_arr = JSON.parse(lectors);

		var theme = 'languages';
		// var theme = 'technologies';
		// var theme = 'frameworks';
		// var theme = 'design';
		// var theme = 'instruments';

		query_str = '.lectors{.' + theme + '==1}.lector'

		filtered_lectors_arr = JSPath.apply(query_str, lectors_arr);
		var content     = document.getElementById("content");

		var data = {
			"theme": theme,
			"sel_number": 4
		}

		var cpl_content_filter  = yr.run('lectors_filter', data);

		var cpl_content        = yr.run('lectors', filtered_lectors_arr);
		content.innerHTML = cpl_content_filter + cpl_content;
	</script>
</body>
</html>