var isArr = Array.isArray,res,v1,v2,v3,v4,v5,v6,v7;
isArr(data) || (data = [data]);
res = data;
v1 = [],v2 = 0,v3 = res.length,v7 = [];
while (v2 < v3) {
    v4 = res[v2++];
    if (v4 != null) {
        v6 = v4['a'];
        if (v6 != null) {
            if (isArr(v6)) {
                v3 > 1 ? v7.push(v6) : v1 = v1.concat(v6);
            } else {
                if (v7.length) {
                    v1 = v1.concat.apply(v1, v7);
                    v7 = [];
                }
                v1.push(v6);
            }
        }
    }
}
res = v3 > 1 && v7.length ? v7.length > 1 ? v1.concat.apply(v1, v7) : v1.concat(v7[0]) : v1;
return res;