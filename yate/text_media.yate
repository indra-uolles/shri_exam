module "text_media"

match / {
	<div class="half-page">
		for .text {
			display_element()
   		}
	</div>
	<div class="half-page">
		<div class="shift-down-20">
			<iframe width="{ .width }" height="{ .height }" frameborder="0" src="{ .link }"></iframe>
		</div>
	</div>
}
func display_list() {
	<ul>
		for .* {
			if (index() > 0){
				<li>{ . }</li>
			}
		}
	</ul>
}
func display_element() {
    if (.elem == 'p') {
        <p> { .content } </p>
    } else {
    	if (.elem == 'unordered_list') {
    		display_list()
    	}
    }
}